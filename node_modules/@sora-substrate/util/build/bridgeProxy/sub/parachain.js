"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SoraParachainApi = void 0;
class SoraParachainApi {
  async getRelayChainBlockNumber(blockHash, api) {
    const apiInstanceAtBlock = await api.at(blockHash);
    const blockNumber = await apiInstanceAtBlock.query.parachainSystem.lastRelayChainBlockNumber();
    return blockNumber.toNumber();
  }
  async getAssetMulilocation(assetId, api) {
    const multilocation = await api.query.xcmApp.assetIdToMultilocation(assetId);
    return multilocation.isSome ? multilocation.unwrap() : null;
  }
  async getAssetMinimumAmount(assetId, api) {
    const multilocation = await this.getAssetMulilocation(assetId, api);
    if (!multilocation) return '0';
    const amount = await api.query.xcmApp.assetMinimumAmount(multilocation);
    return amount.isSome ? amount.unwrap().toString() : '0';
  }
}
exports.SoraParachainApi = SoraParachainApi;